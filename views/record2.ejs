<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Record Chapter Range</title>
    <style>
        .range-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .range-value {
            margin-left: 10px;
            font-weight: bold;
        }
    </style>
    <script>
        function updateRangeValues() {
            const startRange = document.getElementById('startChapterRange');
            const endRange = document.getElementById('endChapterRange');
            const startValue = document.getElementById('startValue');
            const endValue = document.getElementById('endValue');

            startValue.textContent = startRange.value;
            endValue.textContent = endRange.value;

            // Ensure the start chapter is always less than or equal to the end chapter
            startRange.max = endRange.value;
            endRange.min = startRange.value;
        }

        window.onload = function() {
            updateRangeValues();
        };
    </script>
</head>
<body>
    <h1>Record a Chapter Range</h1>
    <form action="/record" method="post">
        <label for="book">Select Book:</label>
        <select name="book" id="book" onchange="updateRangeValues()" required>
            <option value="Genesis" data-chapters="50">Genesis</option>
            <option value="Exodus" data-chapters="40">Exodus</option>
            <option value="Leviticus" data-chapters="27">Leviticus</option>
            <option value="Numbers" data-chapters="36">Numbers</option>
            <option value="Deuteronomy" data-chapters="34">Deuteronomy</option>
            <!-- Add the remaining books -->
        </select>
        <br><br>

        <div class="range-container">
            <label for="startChapterRange">Start Chapter:</label>
            <input type="range" id="startChapterRange" name="startChapterId" min="1" max="50" value="1" oninput="updateRangeValues()">
            <span class="range-value" id="startValue">1</span>
        </div>
        <br>

        <div class="range-container">
            <label for="endChapterRange">End Chapter:</label>
            <input type="range" id="endChapterRange" name="endChapterId" min="1" max="50" value="50" oninput="updateRangeValues()">
            <span class="range-value" id="endValue">50</span>
        </div>
        <br>

        <button type="submit">Record Chapter Range</button>
    </form>
    <br>
    <a href="/">Go back to the list</a>

    <script>
        // Update the chapter range max values based on selected book
        document.getElementById('book').addEventListener('change', function() {
            const selectedOption = this.options[this.selectedIndex];
            const maxChapters = selectedOption.getAttribute('data-chapters');
            
            document.getElementById('startChapterRange').max = maxChapters;
            document.getElementById('endChapterRange').max = maxChapters;

            document.getElementById('startChapterRange').value = 1;
            document.getElementById('endChapterRange').value = maxChapters;

            updateRangeValues();
        });
    </script>
</body>
</html>
